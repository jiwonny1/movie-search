<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Detail</title>
<!--    <link th:href="@{/css/PostDetail.css}" rel="stylesheet" />-->
<style>
    /* 별점 스타일 */
    .star-rating {
        display: inline-block;
        font-size: 0;
    }

    .star-rating-form input[type='radio'] {
        display: none;
    }

    .star-rating-form label {
        display: inline-block;
        width: 1em;
        font-size: 1.5rem;
        line-height: 1.5rem;
        text-align: center;
        cursor: pointer;
        margin-right: 5px; /* 별 사이의 간격을 조절할 수 있습니다. */
    }

    .star-rating-form label::before {
        content: '\2605'; /* 별 모양 유니코드 */
        display: block;
    }

    .star-rating-form label.selected-form::before {
        content: '\2605'; /* 선택된 별은 채워진 별로 변경 */
        color: gold;
    }
    /* 영화 정보 스타일 */
    body {
        margin: 0;
    }
    div.header_poster_wrapper {
        font-size:8px;
        float:right;
        width:68%;
        height: 230px
    }

    section.inner_content section.images>div.poster_wrapper true {
        float: left;
        width: 30%;
    }

    div.poster_wrapper true{
        float: left;
        width: 30%;
    }
    .header.large.border.first {
        display: flex;
        width: 100%;
        height: 100%;
    }

    .poster_wrapper.true {
        position: relative;
        /*width: 30%;*/
    }

    .poster_wrapper.true::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        backdrop-filter: blur(5px); /* 흐림 효과 적용 */
        z-index: -1;
    }

    .header_poster_wrapper.true {
        width: 70%;
    }

    .header_poster_wrapper.true .header.poster {
        color: white;
        padding: 20px; /* 내용과의 간격 조절 */
    }

    /* 리뷰 목록 스타일 */
    .review-list {
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        margin-top: 20px;
        clear: both; /* 부모 요소의 float를 해제합니다. */
    }
    .review-list ul {
        list-style: none; /* 점 없애기 */
        padding: 0; /* 기본 패딩 제거 */
    }

    .review-item {
        margin-bottom: -4px;
        display: flex;
        align-items: center;
    }
    .review-item p {
        font-size: 8px; /* 적절한 크기로 조절하세요 */
        flex: 1;
    }
    .review-item h5 {
        margin: 0;
    }

    .star-rating {
        font-size: 10px;
        color: gold;
        margin-right: 8px; /* 별과 리뷰 간 간격 조절 */
    }


    /* 리뷰 입력 폼 스타일 */
    .review-form {
        margin-top: 20px;
        clear: both; /* 부모 요소의 float를 해제합니다. */
        max-width: 400px; /* 최대 폭 설정 */
    }

    .star-rating-form {
        font-size: 16px;
        color: #333; /* 폼의 별점 색상 변경 */
    }

    .star-rating-form {
        content: '\2605'; /* 별 모양 유니코드 */
        margin-right: 5px;
    }
    .review-item:not(:last-child) {
        border-bottom: 1px solid #ddd; /* 리뷰 간 구분 선 */
    }

    .custom_bg {
        position: relative;
        background: url('https://image.tmdb.org/t/p/w500/6rUZcazlkYILiNPKFgCGkzTn0BN.jpg') no-repeat center;
        background-size: cover;
    }

    .custom_bg::before{
        content: "";
        opacity: 0.5;
        position: absolute;
        top: 0px;
        bottom: 0px;
        left: 0px;
        right: 0px;
        background-color: blue;
    }

    .custom_bg header_poster_wrapper true{
        color: #fff;
        position: relative;
    }
</style>
</head>

<body>
<div class="header large border first">
    <div class="keyboard_s custom_bg">
        <div class="single_column">
            <section id="original_header">
                <div class="poster_wrapper true">
                    <img class="poster lazyload lazyloaded" id="moviePoster" th:src="@{'https://image.tmdb.org/t/p/w500' + ${post.posterPath}}"
                         style="float: left; width: 30%; opacity: 1">
                </div>
                <div class="header_poster_wrapper true">
                    <section class="header poster">
                        <div class="title ott_true" dir="auto" id="movieDetail">
                            <h2 id="movieTitle">
                                <span class="tag release_date" th:text="${post.title}"></span>
                                <span th:text="${#dates.format(post.releaseDate, '(yyyy)')}">()</span>
                            </h2>
                        </div>
                        <div class="header_info">
                            <h3 dir="auto">개요</h3>
                            <div class="overview" dir="auto">
                                <p id="movieOverview"></p>
                            </div>
                        </div>
                    </section>
                </div>
            </section>
        </div>
    </div>
</div>

<!-- 리뷰 섹션 -->
<div class="review-section">
    <div class="review-list">
        <h5>리뷰 목록</h5>
        <ul>
            <li th:each="review : ${reviews}" class="review-item">
                <!-- 별점 출력 -->
                <div class="star-rating" th:attr="data-rating=${review.star}"></div>
                <!-- 리뷰 내용 출력 -->
                <p th:text="${review.content}"></p>
            </li>
        </ul>
    </div>
    <div class="review-form">
        <h3>리뷰 작성</h3>
        <form th:action="@{'/review/create/' + ${post.contentId}}" method="post">
            <!-- 별점 입력 폼 -->
            <div class="star-rating-form">
                <span>별점: </span>
                <input type="radio" name="star" value="1" id="1-star-form"><label for="1-star-form"></label>
                <input type="radio" name="star" value="2" id="2-stars-form"><label for="2-stars-form"></label>
                <input type="radio" name="star" value="3" id="3-stars-form"><label for="3-stars-form"></label>
                <input type="radio" name="star" value="4" id="4-stars-form"><label for="4-stars-form"></label>
                <input type="radio" name="star" value="5" id="5-stars-form"><label for="5-stars-form"></label>
            </div>
            <br>
            <textarea name="content" rows="4" cols="50" placeholder="리뷰를 작성하세요"></textarea>
            <input type="submit" value="리뷰 등록">
        </form>
    </div>
</div>

<script th:src="@{/js/api2.js}"></script>
</body>


</html>
