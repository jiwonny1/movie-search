<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http//www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
      
<th:block layout:fragment="script">
	<script th:src="@{/js/searchDetail.js}" type="text/javascript"></script>
</th:block>

<th:block layout:fragment="css">
	<link rel="stylesheet" th:href="@{/css/index.css}" />
	<link rel="stylesheet" th:href="@{/css/searchDetail.css}" />
</th:block>

<div layout:fragment="content">
    <main>
    	<div class="detailResultContainer text-wrap mt-3 mx-3">
    		<div class="chartTitle">
    			<h2 class="d-inline-block">어떤 조건의 검색인지</h2>
    			<hr class="d-inline-block w-100 m-0 mb-2" />
    		</div>
    		<div class="cardContainer ">
	    		<span th:each="movie, state : ${movies}" class="card movieCard d-inline-block me-3 align-text-top" style="width: 10rem;">
	    			<a th:href="@{|/post/detail/${movie.id}|}" class="text-black">
		    			<div class="card-img-top overflow-hidden">
		    				<div class="overview p-3 position-absolute z-1 h-100 w-100">
							   	<p th:text="${movie.overview}">소개글</p>
	    					</div>
							<img th:src="@{|https://image.tmdb.org/t/p/w500${movie.posterPath}|}" class="card-img-top" alt="영화 포스터">
		    			</div>
						<div class="card-body">
							<span th:text="${movie.title}" class="d-block mb-3 text-wrap lh-1 fs-6 fw-bold">영화 제목</span>
							<div class="starContainer">
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="orange" class="bi bi-star-fill" viewBox="0 0 16 16">
									<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
								</svg>
								<span th:text="${#numbers.formatDecimal(movie.voteAverage, 1, 1)}" class="align-text-top">평점</span>
							</div>
					  		<p th:text="${#dates.format(movie.releaseDate, 'yyyy년 MM월 dd일')}" class="card-text">개봉일자</p>
						</div>
					</a>
				</span>
			</div>
			
    	</div>
    	<div th:if="${movies.size() == 20}" class="loadBtn btn btn-primary w-100">
    		<h3>Load More</h3>
    	</div>
    	
    </main>
</div>

</html>
